import{s as oe,n as le,r as ue}from"../chunks/DUJQqtHE.js";import{S as fe,i as de,d as C,u as M,s as W,a as X,b as s,v as z,o as r,c,e as q,p as N,g as E,f as Y,h as m,j as w,t as Z}from"../chunks/CBbGAyDJ.js";import{s as re}from"../chunks/BxpIoVra.js";function ne(n){let e,t;return{c(){e=m("div"),t=Z(n[5]),this.h()},l(a){e=c(a,"DIV",{class:!0});var l=q(e);t=Y(l,n[5]),l.forEach(C),this.h()},h(){r(e,"class","mb-4 text-sm text-green-700")},m(a,l){X(a,e,l),s(e,t)},p(a,l){l&32&&W(t,a[5])},d(a){a&&C(e)}}}function ie(n){let e,t;return{c(){e=m("div"),t=Z(n[4]),this.h()},l(a){e=c(a,"DIV",{class:!0});var l=q(e);t=Y(l,n[4]),l.forEach(C),this.h()},h(){r(e,"class","mb-4 text-sm text-red-600")},m(a,l){X(a,e,l),s(e,t)},p(a,l){l&16&&W(t,a[4])},d(a){a&&C(e)}}}function ce(n){let e,t,a="Criar conta",l,I,k,i,h,g,P="E-mail",S,p,A,y,v,$="Senha",F,_,J,T,D,ee="Confirmar senha",R,b,G,L,B=n[3]?"Criando...":"Criar conta",x,K,U,te='<a href="/login" class="text-sky-600 hover:underline">Já tenho conta</a>',Q,se,f=n[5]&&ne(n),d=n[4]&&ie(n);return{c(){e=m("div"),t=m("h1"),t.textContent=a,l=w(),f&&f.c(),I=w(),d&&d.c(),k=w(),i=m("form"),h=m("div"),g=m("label"),g.textContent=P,S=w(),p=m("input"),A=w(),y=m("div"),v=m("label"),v.textContent=$,F=w(),_=m("input"),J=w(),T=m("div"),D=m("label"),D.textContent=ee,R=w(),b=m("input"),G=w(),L=m("button"),x=Z(B),K=w(),U=m("div"),U.innerHTML=te,this.h()},l(o){e=c(o,"DIV",{class:!0});var u=q(e);t=c(u,"H1",{class:!0,"data-svelte-h":!0}),N(t)!=="svelte-1jg17oe"&&(t.textContent=a),l=E(u),f&&f.l(u),I=E(u),d&&d.l(u),k=E(u),i=c(u,"FORM",{class:!0});var V=q(i);h=c(V,"DIV",{});var H=q(h);g=c(H,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(g)!=="svelte-1uz450d"&&(g.textContent=P),S=E(H),p=c(H,"INPUT",{id:!0,type:!0,class:!0}),H.forEach(C),A=E(V),y=c(V,"DIV",{});var j=q(y);v=c(j,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(v)!=="svelte-1i7ywyq"&&(v.textContent=$),F=E(j),_=c(j,"INPUT",{id:!0,type:!0,class:!0}),j.forEach(C),J=E(V),T=c(V,"DIV",{});var O=q(T);D=c(O,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),N(D)!=="svelte-1aad4s6"&&(D.textContent=ee),R=E(O),b=c(O,"INPUT",{id:!0,type:!0,class:!0}),O.forEach(C),G=E(V),L=c(V,"BUTTON",{class:!0});var ae=q(L);x=Y(ae,B),ae.forEach(C),V.forEach(C),K=E(u),U=c(u,"DIV",{class:!0,"data-svelte-h":!0}),N(U)!=="svelte-17qisn5"&&(U.innerHTML=te),u.forEach(C),this.h()},h(){r(t,"class","text-xl font-semibold mb-4"),r(g,"for","cad-email"),r(g,"class","block text-sm mb-1"),r(p,"id","cad-email"),r(p,"type","email"),r(p,"class","input-form"),p.required=!0,r(v,"for","cad-password"),r(v,"class","block text-sm mb-1"),r(_,"id","cad-password"),r(_,"type","password"),r(_,"class","input-form"),_.required=!0,r(D,"for","cad-confirm"),r(D,"class","block text-sm mb-1"),r(b,"id","cad-confirm"),r(b,"type","password"),r(b,"class","input-form"),b.required=!0,L.disabled=n[3],r(L,"class","btn-primary w-full"),r(i,"class","space-y-4"),r(U,"class","text-sm mt-4"),r(e,"class","max-w-md mx-auto bg-white dark:bg-slate-800 rounded-lg shadow p-6")},m(o,u){X(o,e,u),s(e,t),s(e,l),f&&f.m(e,null),s(e,I),d&&d.m(e,null),s(e,k),s(e,i),s(i,h),s(h,g),s(h,S),s(h,p),M(p,n[0]),s(i,A),s(i,y),s(y,v),s(y,F),s(y,_),M(_,n[1]),s(i,J),s(i,T),s(T,D),s(T,R),s(T,b),M(b,n[2]),s(i,G),s(i,L),s(L,x),s(e,K),s(e,U),Q||(se=[z(p,"input",n[7]),z(_,"input",n[8]),z(b,"input",n[9]),z(i,"submit",n[6])],Q=!0)},p(o,[u]){o[5]?f?f.p(o,u):(f=ne(o),f.c(),f.m(e,I)):f&&(f.d(1),f=null),o[4]?d?d.p(o,u):(d=ie(o),d.c(),d.m(e,k)):d&&(d.d(1),d=null),u&1&&p.value!==o[0]&&M(p,o[0]),u&2&&_.value!==o[1]&&M(_,o[1]),u&4&&b.value!==o[2]&&M(b,o[2]),u&8&&B!==(B=o[3]?"Criando...":"Criar conta")&&W(x,B),u&8&&(L.disabled=o[3])},i:le,o:le,d(o){o&&C(e),f&&f.d(),d&&d.d(),Q=!1,ue(se)}}}function me(n,e,t){let a="",l="",I="",k=!1,i="",h="";async function g(A){if(A.preventDefault(),t(4,i=""),t(5,h=""),!re){t(4,i="Configuração do Supabase ausente.");return}if(!a||!l){t(4,i="Informe e-mail e senha");return}if(l!==I){t(4,i="As senhas não conferem");return}t(3,k=!0);const{data:y,error:v}=await re.auth.signUp({email:a,password:l});if(t(3,k=!1),v){t(4,i=v.message);return}t(5,h="Conta criada. Verifique seu e-mail para confirmar e então faça login.")}function P(){a=this.value,t(0,a)}function S(){l=this.value,t(1,l)}function p(){I=this.value,t(2,I)}return[a,l,I,k,i,h,g,P,S,p]}class _e extends fe{constructor(e){super(),de(this,e,me,ce,oe,{})}}export{_e as component};
